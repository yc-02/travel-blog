    <%- include('./partials/head.ejs') %>
<body>
    <%- include('./partials/nav.ejs')%>
    <div class="homePage"  style="display: none;">
        <% if (blogs.length>0){ %>
            <div class="blogCard">
            <% blogs.forEach(blog=>{%>
                <a href="/blogs/<%=blog._id%>">
                <% if(blog.images && blog.images.length>0){ %>
                    <img src="<%=blog.images[0].image_path%>" class="blogImage" alt="image" onload="imageLoaded()"/>
                <% } %>
                <div class="blogText">
                    <h3 class="title"><%= blog.title %></h3>
                    <p>Destination: <%= blog.destination %></p>
                    <p><%= blog.days %>
                    <% if(blog.days===1){%>
                        <span>Day</span>
                    <% }else{ %>
                        <span>Days</span>
                    <% } %>
                    </p>
                   <p class="subTitle">Created at <%= blog.createdAt.toDateString()%></p>
                   <P class="subTitle">Created by <%= blog.username %></P>

                </div>
                </a>
            <%}) %>
            </div>
        <% }else{ %>
            <p style="text-align: center;">No Contents Available.</p>
        <% } %>
    </div>
    <p style="text-align: center;" id="loading">Loading...</p>
    <%- include('./partials/footer.ejs') %>
    <script>
        const homePage = document.querySelector('.homePage');
        const loading = document.getElementById('loading')

        // Preload the actual image
        function imageLoaded() {
            console.log('loaded')
            setTimeout(()=>{
                homePage.style.display='block'
                loading.style.display='none'
            },100)
        };

    </script>
</body>
</html>